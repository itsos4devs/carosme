(window.webpackJsonp=window.webpackJsonp||[]).push([[7,64,69,160],{1001:function(t,e,r){"use strict";r(951)},910:function(t,e,r){t.exports=r.p+"img/card-empty.106317f.svg"},939:function(t,e,r){},940:function(t,e,r){},951:function(t,e,r){},953:function(t,e,r){"use strict";r.r(e);var c=r(0),n=(r(21),r(22),r(58),r(53),r(18),r(51),r(41),r(4),r(8),r(38),r(52),r(13)),o=r(918),l=r(37),m={current:+new Date},d={components:{Swiper:o.Swiper,SwiperSlide:o.SwiperSlide},filters:{thousands3:function(t){return t?function(){t=Math.round(100*t)/100;var e="".concat(t).split("."),r=e[0].replace(/(\d)(?=(\d{3})+\b)/g,"$1,"),c=e[1];return c?"".concat(r).concat(".").concat(c):"".concat(r)}():0===t?0:""}},props:{item:{type:Object,default:function(){return{}}},isUpdate:{type:Boolean,default:!1},type:{type:String,default:""},isUpdateAll:{type:Boolean,default:!1},trackPage:{type:String,default:""},trackPosition:{type:String,default:""},targetType:{type:String,default:""},customTrack:{type:Function|Boolean,default:!1},carCompareSwitch:{type:Boolean,default:!1},isExceed:{type:Boolean,default:!1},carNos:{type:Array}},data:function(){var t=m.current++,e=this;return{uniqueID:t,isFirst:!0,isShowDiscountTag:!0,discountInfo:void 0,promotionInfo:void 0,activeIndex:0,cardSwiperOption:{slidesPerView:"auto",effect:"fade",fadeEffect:{crossFade:!0},pagination:{el:".swiper-pagination"},navigation:{nextEl:".card-".concat(t," .card-swiper-button-next"),prevEl:".card-".concat(t," .card-swiper-button-prev")},lazy:{loadPrevNext:!1,loadPrevNextAmount:0},on:{slideChange:function(){e.activeIndex=this.activeIndex,e.isShowDiscountTag=0===this.activeIndex}}},loading:!1,imgList:[],selectStatus:!1,mdiChevronRight:l.x,mdiChevronLeft:l.w,mdiCheckboxBlankOutline:l.s,mdiCheckboxMarked:l.t,mdiMapMarker:l.U}},computed:{preCardImg:function(){var t=this.item,e=this.transformImg,c=this.imgType;return t.image?e(t.image,"card",c):r(910)},detailUrl:function(){return this.localePath(this.$seo.detail(this.item))},discount:function(){var t=this.item;return t.campaignPrice?Number(t.expSellingPrice)-Number(t.campaignPrice):""},highLightTagsArray:function(){var t=this.item;if(t.highLightTags&&t.highLightTags.length){return t.carTag?t.highLightTags.length>=2?t.highLightTags.slice(0,2):t.highLightTags:t.highLightTags.length>=3?t.highLightTags.slice(0,3):t.highLightTags}},isNewCar:function(){var t;return 2==(null===(t=this.item)||void 0===t?void 0:t.carCondition)},carCompareClass:function(){return 210===this.item.carState&&2===this.item.saleStatus||200===this.item.carState&&2===this.item.saleStatus}},watch:{item:{handler:function(){var t=this.item,e=t.imagesInner,r=t.imagesOuter,c={},n={};null==r||r.forEach((function(t){n["".concat(t.order)]=t.url})),null==e||e.forEach((function(t){c["".concat(t.order)]=t.url})),n[1]&&n[3]&&n[11]&&c[2]?this.imgList=[n[1],n[3],n[11],c[2],n[1]]:this.imgList=[]},deep:!0},carNos:{handler:function(){var t;null!==(t=this.carNos)&&void 0!==t&&t.includes("".concat(this.item.carNo))?this.selectStatus=!0:this.selectStatus=!1},deep:!0}},mounted:function(){var t,e=this.item,r=e.imagesInner,c=e.imagesOuter,n={},o={};null==c||c.forEach((function(t){o["".concat(t.order)]=t.url})),null==r||r.forEach((function(t){n["".concat(t.order)]=t.url})),o[1]&&o[3]&&o[11]&&n[2]?this.imgList=[o[1],o[3],o[11],n[2],o[1]]:this.imgList=[],this.discountInfo=this.getDiscountInfoAndPromotionInfo(this.item,"discount"),this.promotionInfo=this.getDiscountInfoAndPromotionInfo(this.item,"promotion"),null!==(t=this.carNos)&&void 0!==t&&t.includes("".concat(this.item.carNo))?this.selectStatus=!0:this.selectStatus=!1},methods:{onClickNext:function(){this.isFirst&&(this.isFirst=!1,this.$amp.track("Car Card Next Clicked"))},setRecommendedTrack:function(){if(this.customTrack)this.customTrack(this.item);else{var t={car:this.item,recommendation_type:this.trackPage};this.trackPosition&&this.$amp.track("Recommended Car Clicked",t),this.$amp.ecommerceEvents("productClick","MYR",this.item,"click")}},setFavoriteTrack:function(t){var e={is_favorite:!t,car:this.item,source:this.trackPosition?"".concat(this.trackPage,"-").concat(this.trackPosition):this.trackPage};this.$amp.track("Favorite Car Button Clicked",e)},favorite:function(t,e){var r=this;return Object(c.a)(regeneratorRuntime.mark((function o(){var l;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!r.loading){o.next=2;break}return o.abrupt("return");case 2:return event.preventDefault(),l=r.$axios,r.setFavoriteTrack(t.favorite),window.loginAfterHandleType="Favor",o.prev=6,r.loading=!0,o.next=10,r.$store.dispatch("user/checkLogin");case 10:return o.next=12,Object(n.Z)(l,t.carId,1!==t.favorite);case 12:t.favorite=1===t.favorite?0:1,r.isUpdate&&r.$parent.$emit("removeFavorite",{item:t,name:e}),r.isUpdateAll&&r.$parent.$emit("updateGroupStatus",t),o.next=20;break;case 17:o.prev=17,o.t0=o.catch(6),window.loginAfterHandle=Object(c.a)(regeneratorRuntime.mark((function c(){return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,r.loading=!1,c.next=4,Object(n.Z)(l,t.carId,1!==t.favorite);case 4:t.favorite=1===t.favorite?0:1,r.isUpdate&&r.$parent.$emit("removeFavorite",{item:t,name:e}),r.isUpdateAll&&r.$parent.$emit("updateGroupStatus",t);case 7:return c.prev=7,r.loading=!1,c.finish(7);case 10:case"end":return c.stop()}}),c,null,[[0,,7,10]])})));case 20:return o.prev=20,r.loading=!1,o.finish(20);case 23:t.favorite||r.$amp.ecommerceEvents("removeFromCart","MYR",r.item,"remove");case 24:case"end":return o.stop()}}),o,null,[[6,17,20,23]])})))()},selectCar:function(t){if(!this.isExceed||this.selectStatus){var e,r;switch(this.selectStatus=!this.selectStatus,this.$emit("change-is-select-compare-car",t.carNo,this.selectStatus),$nuxt.getRouteBaseName()){case"seoList":e="Listing Page--Check Box",r="Listing Page--Check Box";break;case"buy-car-personal-favorite":e="My Favorite Page--Check Box",r="My Favorite Page--Check Box";break;case"buy-car-personal-history":e="My History--Check Box",r="My History--Check Box"}this.selectStatus?this.$amp.track("Car Compare Added",{car:this.item,car_compare_selected_location:e,camparing_status:this.showCarCompareInfo?"True":"False"}):this.$amp.track("Car Compare Removed",{car:this.item,car_compare_removed_location:r,camparing_status:this.showCarCompareInfo?"True":"False"})}else this.$emit("change-show-compare-cars-dialog-status",!0)}}},_=(r(1001),r(30)),h=r(48),v=r.n(h),f=r(890),component=Object(_.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("article",{staticClass:"mod-b-card"},[r("a",{staticClass:"mod-b-card__header",class:"card-"+t.uniqueID,attrs:{href:t.detailUrl,target:t.targetType},on:{click:t.setRecommendedTrack}},[210===t.item.carState&&2===t.item.saleStatus?r("div",{staticClass:"mod-b-card__mask"},[r("div",{staticClass:"mod-b-card__mask-content"},[r("span",{staticClass:"mod-b-card__mask-icon"}),t._v(" "),r("p",{staticClass:"mod-b-card__mask-text"},[t._v(t._s(t.$t("detail_status_pending")))])])]):t._e(),t._v(" "),1===t.item.saleStatus?r("div",{staticClass:"mod-b-card__mask"},[r("div",{staticClass:"mod-b-card__mask-content"},[r("span",{staticClass:"mod-b-card__mask-icon"}),t._v(" "),r("p",{staticClass:"mod-b-card__mask-text"},[t._v(t._s(t.$t("detail_status_sold")))])])]):t._e(),t._v(" "),3===t.item.saleStatus?r("div",{staticClass:"mod-b-card__mask-content mod-b-card__mask-shelves"},[r("span",{staticClass:"mod-b-card__mask-icon mod-b-card__mask-shelves_icon"}),t._v(" "),r("p",{staticClass:"mod-b-card__mask-text mod-b-card__mask-shelves_text"},[t._v("\n        "+t._s(t.$t("detail_call_me_back_desc_coming"))+"\n      ")])]):t._e(),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.carCompareClass&&t.carCompareSwitch&&"PH"!==t.getCountry,expression:"carCompareClass && carCompareSwitch && getCountry !== 'PH'"}],class:["mod-b-card__compare",{"mod-b-card__compare--active":t.selectStatus,"mod-b-card__compare--prohibit":t.isExceed&&!t.selectStatus}],on:{click:function(e){return e.preventDefault(),t.selectCar(t.item)}}},[t.selectStatus?r("v-icon",{attrs:{color:"#ECF3F9",size:"18"}},[t._v(t._s(t.mdiCheckboxMarked))]):r("v-icon",{attrs:{color:t.isExceed?"#B3BAC4":"#3D82C3",size:"18"}},[t._v(t._s(t.mdiCheckboxBlankOutline))]),t._v(" "),r("p",{class:["mod-b-card__compare-text",{"mod-b-card__compare-text--active":t.selectStatus}]},[t._v("\n        "+t._s(t.$t("car_comparison_compare_toggle"))+"\n      ")])],1),t._v(" "),void 0!==t.discountInfo&&200===t.item.carState&&2===t.item.saleStatus&&t.isShowDiscountTag?r("div",{staticClass:"mod-b-card__mask-content mod-b-card__mask-discount"},["th"===t.$i18n.locale?r("span",{staticStyle:{"white-space":"pre"}},[t._v(t._s(t.$t("detail_promotion_campaign_price_off"))+"\n      ")]):t._e(),t._v(" "),"TH"===t.getCountry?r("span",[t._v(t._s(t._f("thousands")(t.getCarPrice(t.item,"discountPrice")))+"\n        "+t._s(t.$t("public_card_rm")))]):r("span",[t._v(t._s(t.$t("public_card_rm"))+"\n        "+t._s(t._f("thousands")(t.getCarPrice(t.item,"discountPrice"))))]),t._v(" "),"th"!==t.$i18n.locale?r("span",{staticStyle:{"white-space":"pre"}},[t._v(" "+t._s(t.$t("detail_promotion_campaign_price_off")))]):t._e()]):t._e(),t._v(" "),void 0!==t.promotionInfo&&200===t.item.carState&&2===t.item.saleStatus&&t.isShowDiscountTag?r("PromoBar",{attrs:{"bar-height":"24","promotion-info":t.promotionInfo}}):t._e(),t._v(" "),2===t.item.saleStatus&&200===t.item.carState&&0===t.item.isDealer&&t.imgList&&t.imgList.length?r("Swiper",{key:t.imgList[0],staticClass:"mod-b-card__swiper",attrs:{options:t.cardSwiperOption}},[t._l(t.imgList,(function(img,e){return r("SwiperSlide",{key:img+e,staticClass:"swiper-lazy swiper-loading-background mod-b-card__swiper-slider",attrs:{"data-background":t.transformImg(img,"card",t.imgType)}},[t.imgList.length===e+1?r("a",{staticClass:"last-swiper",attrs:{href:t.detailUrl+"?showImage=true","data-track":"click-car-card-show-more-picture","data-track-type":"0"}},[r("span",{staticClass:"last-swiper__btn",attrs:{"data-track":"click-car-card-show-more-picture","data-track-type":"0"}},[t._v(t._s(t.$t("car_card_show_me_more")))])]):t._e()])})),t._v(" "),r("div",{staticClass:"mod-b-card__swiper__number",class:{"mod-b-card__swiper__number__promotion":void 0!==t.promotionInfo&&200===t.item.carState&&2===t.item.saleStatus&&t.isShowDiscountTag}},[r("span",[t._v(t._s(t.activeIndex+1)+"/")]),t._v(" "),r("span",{staticClass:"mod-b-card__swiper__number__total"},[t._v(t._s(t.imgList.length))])])],2):r("div",{staticClass:"mod-b-card__img",style:{backgroundImage:"url("+t.preCardImg+")"}}),t._v(" "),2===t.item.saleStatus&&200===t.item.carState&&0===t.item.isDealer&&t.imgList&&t.imgList.length?r("div",{staticClass:"swiper-button-next card-swiper-button-next",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onClickNext.apply(null,arguments)}}},[r("v-icon",{staticClass:"swiper-button-icon",attrs:{color:"#fff"}},[t._v(t._s(t.mdiChevronRight))])],1):t._e(),t._v(" "),2===t.item.saleStatus&&200===t.item.carState&&0===t.item.isDealer&&t.imgList&&t.imgList.length?r("div",{staticClass:"swiper-button-prev card-swiper-button-prev",on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[r("v-icon",{staticClass:"swiper-button-icon",attrs:{color:"#fff"}},[t._v(t._s(t.mdiChevronLeft))])],1):t._e()],1),t._v(" "),r("div",{staticClass:"mod-b-card__footer"},[r("CarTypeBadge",{attrs:{car:t.item}}),t._v(" "),r("a",{staticClass:"mod-b-card__title",attrs:{href:t.detailUrl},on:{click:t.setRecommendedTrack}},[r("div",{staticClass:"favorite-icon",class:{animating:1===t.item.favorite},on:{click:function(e){return e.stopPropagation(),t.favorite(t.item,t.type)}}}),t._v(" "),r("p",[t._v("\n        "+t._s(t.item.carYear)+"\n        "+t._s(t.item.brandName)+"\n      ")]),t._v(" "),r("p",[t._v("\n        "+t._s(t.item.modelName)+"\n        "+t._s(t.item.carVariant)+"\n        "+t._s(t.isNewCar?"":t.item.carEngine)+"\n      ")])]),t._v(" "),r("div",{staticClass:"mod-b-card__car-other"},[t.isNewCar&&t.item.carEnduranceMileage?r("span",[t._v("Range "+t._s(t._f("thousands")(t.item.carEnduranceMileage))+"\n        "+t._s(t.$t("public_card_km")))]):t.item.carMileage?r("span",[t._v(t._s(t._f("thousands")(t.item.carMileage))+" "+t._s(t.$t("public_card_km")))]):t._e(),t._v(" "),t.item.transmissionLabel?r("span",[t._v(t._s(t.item.transmissionLabel))]):t._e(),t._v(" "),t.item.place&&3!==t.item.saleStatus?r("span",[r("v-icon",{attrs:{size:"12",color:"#959CA4"}},[t._v(t._s(t.mdiMapMarker))]),t._v(t._s(t.item.place))],1):t._e()]),t._v(" "),r("CarTagging",{attrs:{"car-data":t.item}}),t._v(" "),t._t("carPrice",null,null,t.item)],2)])}),[],!1,null,null,null);e.default=component.exports;v()(component,{PromoBar:r(975).default,CarTypeBadge:r(1030).default,CarTagging:r(976).default}),v()(component,{VIcon:f.a})},960:function(t,e,r){"use strict";r(939)},961:function(t,e,r){"use strict";r(940)},975:function(t,e,r){"use strict";r.r(e);var c={props:{barHeight:{type:String,default:function(){return""}},promotionInfo:{type:Object,default:function(){return{}}}}},n=(r(960),r(30)),component=Object(n.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"mod-promo-bar",class:{"height-24":"24"===t.barHeight}},[r("div",{staticClass:"mod-promo-bar__left",style:{backgroundImage:"url("+t.promotionInfo.campaignLogo+")"}}),t._v("\n  "+t._s(t.promotionInfo.promoMsg)+"\n")])}),[],!1,null,null,null);e.default=component.exports},976:function(t,e,r){"use strict";r.r(e);r(4),r(8);var c={props:{carData:{type:Object,default:function(){return{}}}},data:function(){return{carSegmentation:"",carUnique:""}},created:function(){var t=this;this.carData&&this.carData.carTaggings&&this.carData.carTaggings.length&&this.carData.carTaggings.forEach((function(e){1===e.tagType&&(t.carSegmentation=e),2===e.tagType&&(t.carUnique=e)}))}},n=(r(961),r(30)),component=Object(n.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"mod-car-tagging"},[""!==t.carSegmentation?r("span",{staticClass:"car-tag",style:{background:""+t.carSegmentation.backgroundColor,color:""+t.carSegmentation.fontColor}},[r("i",{style:{backgroundImage:"url("+t.carSegmentation.iconUrl+")"}}),t._v("\n      "+t._s("en"===t.$i18n.locale?t.carSegmentation.tagName:t.carSegmentation.tagNameLocal)+"\n    ")]):t._e(),t._v(" "),""!==t.carUnique?r("span",{staticClass:"high-tag"},[t._v("\n      "+t._s("en"===t.$i18n.locale?t.carUnique.tagName:t.carUnique.tagNameLocal)+"\n    ")]):t._e()])}),[],!1,null,"dc2717d6",null);e.default=component.exports}}]);