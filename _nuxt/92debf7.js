(window.webpackJsonp=window.webpackJsonp||[]).push([[228],{1108:function(t,e,r){t.exports=r.p+"img/logo-carsome.b9420c8.svg"},1881:function(t,e,r){},1882:function(t,e,r){},2193:function(t,e,r){"use strict";r(1881)},2194:function(t,e,r){"use strict";r(1882)},2428:function(t,e,r){"use strict";r.r(e);var o=r(0),n=(r(18),r(24),r(22),r(28),r(41),r(4),r(8),r(53),r(51),r(21),r(37)),c=r(243),l=r(13),m=r(952),_={appointment:0,carDetail:1,summary:2,result:3},d={data:function(){return{Steps:_,currentStep:_.appointment,bookingConfig:{serviceCenterLocations:[],timeSpanList:[],brand:[],model:[],year:[]},form:{location:"",date:"",time:"",plateNo:"",brand:"",model:"",year:"",remark:"",name:"",email:"",mobile:""},minDate:this.$dayjs().add(1,"d").format("YYYY-MM-DD"),maxDate:this.$dayjs().add(90,"d").format("YYYY-MM-DD"),pickerDate:this.$dayjs().add(1,"d").format("YYYY-MM-01"),invalidDays:[],dialogShow:!1,result:"Success",calendarLink:"",mdiChevronLeft:n.w,mdiChevronDown:n.v,mdiClose:n.B,mdiCircle:n.z,mdiCheckCircle:n.q,mdiRadioboxBlank:n.eb,mdiRadioboxMarked:n.fb,mdiCalendarBlank:n.i,mdiMagnify:n.S,mdiAlertCircle:n.c,mdiPhone:n.ab,mdiEmail:n.H,mdiDirections:n.F,appointmentId:null}},fetch:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.$axios,e.next=4,Object(m.e)(n);case 4:c=e.sent,t.bookingConfig.serviceCenterLocations=null!==(r=null==c?void 0:c.list)&&void 0!==r?r:[],t.form.location=null===(o=t.bookingConfig.serviceCenterLocations)||void 0===o?void 0:o[0],t.fetchInvalidDays(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},computed:{progressSteps:function(){var t=this.currentStep;return[{key:_.appointment,complete:t>_.appointment,text:this.$t("service_bookappt_stepper_1")},{key:_.carDetail,complete:t>_.carDetail,text:this.$t("service_bookappt_stepper_2")},{key:_.summary,complete:!1,text:this.$t("service_bookappt_stepper_3")}]},formattedDate:function(){return this.form.date?this.$dayjs(this.form.date).format("D/M/YYYY"):""},selectedDateSummary:function(){return this.form.date&&this.form.time?"".concat(this.$dayjs(this.form.date).format("DD MMMM YYYY"),", ").concat(this.form.time):""},checkSummaryFields:function(){return!!this.form.name&&(!(this.form.email&&!this.$validator.testEmail(this.form.email))&&!(!this.form.mobile||!this.$i18nService.mobileRegex.test(this.form.mobile)))}},watch:{currentStep:{immediate:!0,handler:function(){this.changeLayout()}},"form.location":function(){this.form.date="",this.fetchInvalidDays(),this.bookingConfig.timeSpanList=[]},"form.date":function(t){this.form.time="",t?this.fetchtimeSpanList():this.timeSpanList=[]},dialogShow:function(t){t?this.$layout.lockBodyScroll():this.$layout.restoreBodyScroll()},"form.brand":function(t){t&&(this.getSelectValues("model"),this.$amp.track("Service Car Brand Selected",{car_brand:this.form.brand}))},"form.model":function(t){t&&(this.getSelectValues("year"),this.$amp.track("Service Car Model Selected",{car_brand:this.form.brand,car_model:this.form.model}))},"form.year":function(t){t&&this.$amp.track("Service Car Year Selected",{car_year:this.form.year})}},methods:{fetchInvalidDays:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.d)(t.$axios,"".concat(t.form.location.id));case 2:o=e.sent,n=null!==(r=o.days)&&void 0!==r?r:[],t.invalidDays=n.map((function(e){return t.$dayjs(e).format("MM-DD")}));case 5:case"end":return e.stop()}}),e)})))()},required:function(t){return!!t||this.$t("form_2_error_name_empty")},email:function(t){return!(t&&!this.$validator.testEmail(t))||this.$t("carloan_form_field_email_address_error_message")},mobile:function(t){return!!this.$i18nService.mobileRegex.test(t)||this.$t("carloan_form_field_mobile_number_error_message")},getServiceCenterList:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=t.$axios,e.next=4,Object(m.e)(o);case 4:n=e.sent,t.bookingConfig.serviceCenterLocations=null!==(r=null==n?void 0:n.list)&&void 0!==r?r:[],t.form.location=t.bookingConfig.serviceCenterLocations[0],e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},setLocation:function(t){this.form.location=t,this.$amp.track("Service Appointment Location Selected",{service_car_center_location_id:t.businessUnit,service_car_center_location_name:t.title})},setTrackDate:function(t){var e={service_car_center_location_id:this.form.location.businessUnit,service_car_center_location_name:this.form.location.title,service_appointment_date:this.$dayjs(this.form.date).format("YYYY-MM-DD")};"Service Appointment Date Selected"!==t&&(e.service_appointment_time=this.$dayjs(this.form.time,"hh:mm A").format("HH:mm:ss")),this.$amp.track(t,e)},setCarDetailSubmitTrack:function(){var t={car_brand_model:this.form.brand+" "+this.form.model,car_year:this.form.year};this.$amp.track("Service Car Details Submitted",t)},setCarAppointmentSubmitTrack:function(title,t){var e={};"Service Car Appointment Scheduled"===title&&(e={service_car_center_location_id:this.form.location.businessUnit,service_car_center_location_name:this.form.location.title,service_appointment_date:this.$dayjs(this.form.date).format("YYYY-MM-DD"),service_appointment_time:this.$dayjs(this.form.time,"hh:mm A").format("HH:mm:ss"),car_brand_model:this.form.brand+" "+this.form.model,car_year:this.form.year,car_plate:this.form.plateNo}),e.status=t,e.service_appointment_id=this.appointmentId,this.$amp.track(title,e)},allowedDates:function(t){var e=this.$dayjs(t).format("MM-DD");return-1===this.invalidDays.indexOf(e)&&0!==this.$dayjs(t).day()},getSelectValues:function(path){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,i,o,n,c,l,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=(r=["brand","model","year"]).indexOf(path);i<r.length;i++)t.form[r[i]]="",t.bookingConfig[r[i]]=[];for(o={},n=r.reverse(),c=r.indexOf(path)+1;c<n.length;c++)o["".concat(n[c],"Name")]=t.form[n[c]];return e.prev=5,e.next=8,Object(m.c)(t.$axios,o);case 8:_=e.sent,t.bookingConfig[path]=null!==(l=null==_?void 0:_.carLib)&&void 0!==l?l:[],e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})))()},changeLayout:function(){var t=this.currentStep<_.result;document.body.classList.toggle("layout--compact",t)},goBack:function(){this.currentStep!==_.appointment?this.currentStep--:window.history.back()},checkLogin:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n,c,m,_;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,window.loginAfterHandleType="After Sales Service",r.next=4,e.$store.dispatch("user/checkLogin");case 4:if(!(e.form.name||e.form.email||e.form.mobile)){r.next=7;break}return e.goStep(t),r.abrupt("return");case 7:return r.next=9,Object(l.T)(e.$axios);case 9:n=r.sent,c=n.name,m=n.email,_=n.contactNo,e.form.name=c,e.form.email=m,e.form.mobile=_,e.goStep(t),r.next=22;break;case 19:r.prev=19,r.t0=r.catch(0),window.loginAfterHandle=Object(o.a)(regeneratorRuntime.mark((function r(){var o,n,c,m;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(l.T)(e.$axios);case 2:o=r.sent,n=o.name,c=o.email,m=o.contactNo,e.form.name=n,e.form.email=c,e.form.mobile=m,e.goStep(t);case 10:case"end":return r.stop()}}),r)})));case 22:return r.prev=22,e.$layout.hideLoading(),r.finish(22);case 25:case"end":return r.stop()}}),r,null,[[0,19,22,25]])})))()},goStep:function(t){var e,r=this;this.currentStep=t,t===_.carDetail&&0===(null===(e=this.bookingConfig.brand)||void 0===e?void 0:e.length)&&this.getSelectValues("brand"),this.$nextTick((function(){r.$vuetify.goTo(0,0)}))},getServiceHour:function(t){return"".concat(t.slice(0,2)," ").concat(t.slice(-2))},fetchtimeSpanList:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.form.date){e.next=2;break}return e.abrupt("return");case 2:return t.$layout.showLoading(),r=t.$dayjs(t.form.date).valueOf(),e.prev=4,e.next=7,Object(m.f)(t.$axios,"".concat(t.form.location.id,"/").concat(r));case 7:(o=e.sent)&&o.length>0&&(t.bookingConfig.timeSpanList=[{ampm:"am",label:t.$t("service_bookappt_time_morning"),list:[]},{ampm:"pm",label:t.$t("service_bookappt_time_afternoon"),list:[]}],o.forEach((function(element){"AM"===t.$dayjs(element.startTime).format("A")?(element.title=t.$dayjs(element.startTime).format("hh:mm A"),t.bookingConfig.timeSpanList[0].list.push(element)):(element.title=t.$dayjs(element.startTime).format("hh:mm A"),t.bookingConfig.timeSpanList[1].list.push(element))}))),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(4),Object(c.a)({message:t.$t("error_page_wrong_tip"),type:"error"}),t.bookingConfig.timeSpanList=[];case 16:return e.prev=16,t.$layout.hideLoading(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[4,11,16,19]])})))()},filterPlateNo:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.$nextTick();case 2:e.form.plateNo=t.replace(/^\s+|[^A-Z0-9\s]/gi,"");case 3:case"end":return r.stop()}}),r)})))()},filterName:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.$nextTick();case 2:e.form.name=t.replace(/^\s+/gi,"");case 3:case"end":return r.stop()}}),r)})))()},submitAppointment:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$layout.showLoading(),e.prev=1,t.calendarLink="",r=(r=t.form.plateNo).replace(/\s/g,""),o={serviceCenterId:t.form.location.id,reservationDate:t.form.date,reservationTime:t.form.time,plateNumber:r,brand:t.form.brand,model:t.form.model,year:Number(t.form.year),contactName:t.form.name,contactEmail:t.form.email,contactMobileNo:t.form.mobile,remark:t.form.remark},e.next=8,Object(m.b)(t.$axios,o);case 8:n=e.sent,t.appointmentId=null==n?void 0:n.reservationID,t.setCarAppointmentSubmitTrack("Service Car Appointment Scheduled","Success"),t.setCarAppointmentSubmitTrack("Service Car Appointment Confirmed Page Viewed","Success"),t.calendarLink=null==n?void 0:n.googleCalendarLink,t.goStep(_.result),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(1),"300201"===e.t0.code&&(t.result="Failed",t.goStep(_.result)),t.setCarAppointmentSubmitTrack("Service Car Appointment Scheduled","Failed");case 21:return e.prev=21,t.$layout.hideLoading(),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[1,16,21,24]])})))()}}},f=(r(2193),r(2194),r(30)),v=r(48),k=r.n(v),h=r(1197),C=r(2397),y=r(1017),$=r(890),S=r(896),x=r(1194),D=r(2203),component=Object(f.a)(d,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"page-car-service-booking"},[t.currentStep!==t.Steps.result?o("div",{key:"appointment",staticClass:"booking-form"},[o("section",{staticClass:"booking-form__header"},[o("div",{staticClass:"booking-form__header-back",on:{click:function(e){return t.goBack()}}},[o("v-icon",{attrs:{color:"#2E2E2E"}},[t._v(t._s(t.mdiChevronLeft))]),t._v(" "),o("span",{staticClass:"booking-form__header-back-label"},[t._v(t._s(t.$t("appt_cancel_reschedule_dialog_back_btn")))])],1),t._v(" "),o("img",{staticClass:"booking-form__header-logo",attrs:{src:r(1108)}}),t._v(" "),o("a",{staticClass:"booking-form__header-close",attrs:{href:t.localePath("/car-service")}},[o("v-icon",{attrs:{color:"#2E2E2E"}},[t._v(t._s(t.mdiClose))])],1)]),t._v(" "),o("h2",{staticClass:"booking-form__title"},[t._v(t._s(t.$t("service_bookappt_title")))]),t._v(" "),o("section",{staticClass:"booking-form__progress progress-steps"},[t._l(t.progressSteps,(function(e){return[o("div",{key:e.key+"-node",staticClass:"progress-steps__item",class:{"progress-steps__item--active":t.currentStep===e.key,"progress-steps__item--complete":e.complete}},[o("v-icon",{staticClass:"progress-steps__item-indicator",attrs:{size:"14"}},[t._v(t._s(t.mdiChevronDown))]),t._v(" "),o("v-icon",{staticClass:"progress-steps__item-icon",attrs:{size:"14"}},[t._v(t._s(e.complete?t.mdiCheckCircle:t.mdiCircle))]),t._v(" "),o("div",{staticClass:"progress-steps__item-text"},[t._v(t._s(e.text))])],1),t._v(" "),o("div",{key:e.key+"-line",staticClass:"progress-steps__line",class:{"progress-steps__line--complete":e.complete}})]}))],2),t._v(" "),o("section",{staticClass:"booking-form__body"},[t.currentStep===t.Steps.appointment?o("section",{staticClass:"booking-form__section form-section"},[o("h3",{staticClass:"form-section__title"},[t._v("\n          "+t._s(t.$t("service_bookappt_location_title"))+"\n        ")]),t._v(" "),o("div",{staticClass:"form-section__location"},t._l(t.bookingConfig.serviceCenterLocations,(function(e){return o("div",{key:e.businessUnit,staticClass:"form-section__location-item location-item",class:{"location-item--selected":t.form.location===e},on:{click:function(r){return t.setLocation(e)}}},[o("v-icon",{staticClass:"location-item__icon",attrs:{size:"20"}},[t._v(t._s(t.form.location===e?t.mdiRadioboxMarked:t.mdiRadioboxBlank))]),t._v(" "),o("div",{staticClass:"location-item__title"},[t._v(t._s(e.title))]),t._v(" "),o("address",{staticClass:"location-item__address",domProps:{innerHTML:t._s(e.address)}})],1)})),0),t._v(" "),o("h3",{staticClass:"form-section__title"},[t._v("\n          "+t._s(t.$t("service_bookappt_date_time_title"))+"\n        ")]),t._v(" "),o("div",{staticClass:"form-section__group"},[o("div",{staticClass:"form-section__group-label"},[t._v("\n            "+t._s(t.$t("service_bookappt_date"))+"\n          ")]),t._v(" "),t.lessEqualTo648?o("v-dialog",{ref:"dialog",attrs:{width:"90vw"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[o("v-text-field",t._g(t._b({attrs:{value:t.formattedDate,outlined:"","append-icon":t.mdiCalendarBlank,readonly:"",color:"#3D82C3",rules:[t.required]}},"v-text-field",n,!1),r))]}}],null,!1,1046474327),model:{value:t.dialogShow,callback:function(e){t.dialogShow=e},expression:"dialogShow"}},[t._v(" "),o("div",{staticClass:"form-section__date-dialog"},[o("v-date-picker",{attrs:{"allowed-dates":t.allowedDates,scrollable:"","full-width":"","no-title":"",min:t.minDate,max:t.maxDate,"show-current":!1,"picker-date":t.pickerDate},on:{"update:pickerDate":function(e){t.pickerDate=e},"update:picker-date":function(e){t.pickerDate=e},"click:date":function(e){t.setTrackDate("Service Appointment Date Selected"),t.dialogShow=!1}},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1)]):o("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[o("v-text-field",t._g(t._b({attrs:{value:t.formattedDate,outlined:"","append-icon":t.mdiCalendarBlank,readonly:"",color:"#3D82C3",rules:[t.required]}},"v-text-field",n,!1),r))]}}],null,!1,1046474327),model:{value:t.dialogShow,callback:function(e){t.dialogShow=e},expression:"dialogShow"}},[t._v(" "),o("div",{staticClass:"form-section__date-menu"},[o("v-date-picker",{attrs:{"allowed-dates":t.allowedDates,scrollable:"","full-width":"","no-title":"",min:t.minDate,max:t.maxDate,"show-current":!1,"picker-date":t.pickerDate},on:{"update:pickerDate":function(e){t.pickerDate=e},"update:picker-date":function(e){t.pickerDate=e},"click:date":function(e){t.setTrackDate("Service Appointment Date Selected"),t.dialogShow=!1}},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1)])],1),t._v(" "),!t.bookingConfig.timeSpanList&&t.bookingConfig.timeSpanList.length?o("div",{staticClass:"form-section__no-date"},[t._v("\n          "+t._s(t.$t("service_bookappt_date_helper_text"))+"\n        ")]):o("section",{staticClass:"form-section__time"},[t._l(t.bookingConfig.timeSpanList,(function(e){return[o("div",{key:"label-"+e.ampm,staticClass:"form-section__time-title",class:"form-section__time-title--"+e.ampm},[t._v("\n              "+t._s(e.label)+"\n            ")]),t._v(" "),t._l(e.list,(function(e){return o("button",{key:"button-"+e.title,staticClass:"form-section__time-button",class:{"form-section__time-button--selected":t.form.time===e.title},attrs:{disabled:2===e.status},on:{click:function(r){t.form.time=e.title,t.setTrackDate("Service Appointment Time Selected")}}},[t._v("\n              "+t._s(e.title)+"\n            ")])}))]}))],2),t._v(" "),o("button",{staticClass:"form-section__submit-button",attrs:{disabled:!t.form.time},on:{click:function(e){t.goStep(t.Steps.carDetail),t.setTrackDate("Service Appointment Location & Date Confirmed")}}},[t._v("\n          "+t._s(t.$t("service_bookappt_continue_btn"))+"\n        ")])]):t._e(),t._v(" "),t.currentStep===t.Steps.carDetail?o("section",{key:"car-detail",staticClass:"booking-form__section form-section"},[o("h3",{staticClass:"form-section__title"},[t._v("\n          "+t._s(t.$t("service_bookappt_car_details_title"))+"\n        ")]),t._v(" "),o("div",{staticClass:"form-section__group"},[o("div",{staticClass:"form-section__group-label"},[t._v("\n            "+t._s(t.$t("service_bookappt_car_plate"))+"\n          ")]),t._v(" "),o("v-text-field",{attrs:{outlined:"",color:"#3D82C3",placeholder:t.$t("service_bookappt_car_plate_placeholder"),rules:[t.required]},on:{input:function(e){return t.filterPlateNo(e)},click:function(e){return t.$amp.track("Service Car Plate Number Clicked")},focus:function(e){t.form.plateNo=t.form.plateNo.trim()}},model:{value:t.form.plateNo,callback:function(e){t.$set(t.form,"plateNo",e)},expression:"form.plateNo"}})],1),t._v(" "),o("div",{staticClass:"form-section__group"},[o("div",{staticClass:"form-section__group-label"},[t._v("\n            "+t._s(t.$t("service_bookappt_car_brand"))+"\n          ")]),t._v(" "),o("v-autocomplete",{attrs:{outlined:"",color:"#3D82C3","prepend-inner-icon":t.mdiMagnify,placeholder:t.$t("service_bookappt_car_brand_placeholder"),items:t.bookingConfig.brand,"item-text":"value","menu-props":{contentClass:"booking-autocomplete-menu"},rules:[t.required]},model:{value:t.form.brand,callback:function(e){t.$set(t.form,"brand",e)},expression:"form.brand"}})],1),t._v(" "),o("div",{staticClass:"form-section__group"},[o("div",{staticClass:"form-section__group-label"},[t._v("\n            "+t._s(t.$t("service_bookappt_car_model"))+"\n          ")]),t._v(" "),o("v-autocomplete",{attrs:{outlined:"",color:"#3D82C3","prepend-inner-icon":t.mdiMagnify,placeholder:t.$t("service_bookappt_car_model_placeholder"),items:t.bookingConfig.model,"item-text":"value",disabled:!t.form.brand,filled:!t.form.brand,"menu-props":{contentClass:"booking-autocomplete-menu"},rules:[t.required]},model:{value:t.form.model,callback:function(e){t.$set(t.form,"model",e)},expression:"form.model"}})],1),t._v(" "),o("div",{staticClass:"form-section__group"},[o("div",{staticClass:"form-section__group-label",domProps:{innerHTML:t._s(t.$t("service_bookappt_car_year"))}}),t._v(" "),o("v-autocomplete",{attrs:{outlined:"",color:"#3D82C3","prepend-inner-icon":t.mdiMagnify,placeholder:t.$t("service_bookappt_car_year_placeholder"),"item-text":"value",items:t.bookingConfig.year,disabled:!t.form.brand||!t.form.model,filled:!t.form.brand||!t.form.model,rules:[t.required],"menu-props":{contentClass:"booking-autocomplete-menu"}},model:{value:t.form.year,callback:function(e){t.$set(t.form,"year",e)},expression:"form.year"}})],1),t._v(" "),o("div",{staticClass:"form-section__group"},[o("div",{staticClass:"form-section__group-label",domProps:{innerHTML:t._s(t.$t("service_bookappt_car_details_remarks"))}}),t._v(" "),o("v-textarea",{attrs:{outlined:"",color:"#3D82C3","no-resize":"",placeholder:t.$t("service_bookappt_car_details_remarks_placeholder")},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1),t._v(" "),o("button",{staticClass:"form-section__submit-button",attrs:{disabled:!(t.form.plateNo&&t.form.brand&&t.form.year&&t.form.model)},on:{click:function(e){t.setCarDetailSubmitTrack(),t.checkLogin(t.Steps.summary)}}},[t._v("\n          "+t._s(t.$t("service_bookappt_continue_btn"))+"\n        ")])]):t._e(),t._v(" "),t.currentStep===t.Steps.summary?o("section",{key:"summary",staticClass:"booking-form__section form-section"},[o("section",{staticClass:"form-summary"},[o("div",{staticClass:"form-summary__title"},[t._v("\n            "+t._s(t.$t("service_bookappt_summary_datetime_title"))+"\n          ")]),t._v(" "),o("div",{staticClass:"form-summary__value"},[o("strong",[t._v(t._s(t.selectedDateSummary))])]),t._v(" "),o("div",{staticClass:"form-summary__title"},[t._v("\n            "+t._s(t.$t("service_bookappt_summary_location_title"))+"\n          ")]),t._v(" "),o("div",{staticClass:"form-summary__value"},[o("strong",[t._v(t._s(t.form.location.title))]),t._v(" "),o("address",{domProps:{innerHTML:t._s(t.form.location.address)}})]),t._v(" "),o("div",{staticClass:"form-summary__title"},[t._v("\n            "+t._s(t.$t("service_bookappt_summary_car_details_title"))+"\n          ")]),t._v(" "),o("div",{staticClass:"form-summary__value"},[o("strong",{staticClass:"form-summary__value--brandModel"},[t._v(t._s(t.form.year)+" "+t._s(t.form.brand+" "+t.form.model))]),t._v(" "),o("span",{staticClass:"form-summary__value--plate"},[t._v(t._s(t.form.plateNo))])]),t._v(" "),o("div",{staticClass:"form-summary__title"},[t._v("\n            "+t._s(t.$t("service_bookappt_summary_remarks_title"))+"\n          ")]),t._v(" "),o("div",{staticClass:"form-summary__value"},[t._v("\n            "+t._s(t.form.remark)+"\n          ")])]),t._v(" "),o("h3",{staticClass:"form-section__title"},[t._v("\n          "+t._s(t.$t("service_bookappt_summary_contact_title"))+"\n        ")]),t._v(" "),o("div",{staticClass:"form-section__group"},[o("div",{staticClass:"form-section__group-label"},[t._v("\n            "+t._s(t.$t("service_bookappt_summary_contact_name"))+"\n          ")]),t._v(" "),o("v-text-field",{attrs:{outlined:"",color:"#3D82C3",rules:[t.required]},on:{input:function(e){return t.filterName(e)},click:function(e){return t.$amp.track("Name Field Clicked")},focus:function(e){t.form.name=t.form.name.trim()}},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),o("div",{staticClass:"form-section__group"},[o("div",{staticClass:"form-section__group-label",domProps:{innerHTML:t._s(t.$t("service_bookappt_summary_contact_email"))}}),t._v(" "),o("v-text-field",{attrs:{outlined:"",color:"#3D82C3",rules:[t.email]},on:{click:function(e){return t.$amp.track("Email Field Clicked")}},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),t._v(" "),o("div",{staticClass:"form-section__group",staticStyle:{"margin-bottom":"16px"}},[o("div",{staticClass:"form-section__group-label"},[t._v("\n            "+t._s(t.$t("service_bookappt_summary_contact_mobile"))+"\n          ")]),t._v(" "),o("v-text-field",{attrs:{outlined:"",color:"#3D82C3",placeholder:t.$t("home_hero_form_placeholder_phone"),"persistent-hint":"",hint:t.$t("service_bookappt_summary_contact_mobile_microcopy"),rules:[t.required,t.mobile]},on:{click:function(e){return t.$amp.track("Mobile Number Field Clicked")}},model:{value:t.form.mobile,callback:function(e){t.$set(t.form,"mobile",e)},expression:"form.mobile"}})],1),t._v(" "),o("button",{staticClass:"form-section__submit-button",attrs:{disabled:!t.checkSummaryFields},on:{click:function(e){return t.submitAppointment()}}},[t._v("\n          "+t._s(t.$t("service_bookappt_summary_confirm_btn"))+"\n        ")])]):t._e()])]):o("div",{key:"result",staticClass:"booking-result"},["Success"===t.result?o("section",{staticClass:"booking-result--success"},[o("div",{staticClass:"booking-result__title"},[t._v("\n        "+t._s(t.$t("service_bookappt_summary_success_title"))+"\n      ")]),t._v(" "),o("div",{staticClass:"booking-result__desc"},[t._v("\n        "+t._s(t.$t("service_bookappt_summary_success_desc"))+"\n      ")]),t._v(" "),o("section",{staticClass:"form-summary form-summary--result"},[o("div",{staticClass:"form-summary__title"},[t._v("\n          "+t._s(t.$t("service_bookappt_summary_your_details_title"))+"\n        ")]),t._v(" "),o("div",{staticClass:"form-summary__value"},[o("strong",[t._v(t._s(t.form.name))]),t._v(" "),o("div",{staticClass:"form-summary__value--contact"},[o("p",[o("v-icon",{attrs:{size:"15"}},[t._v(t._s(t.mdiPhone))]),t._v("\n\n              "+t._s(t.form.mobile)+"\n            ")],1),t._v(" "),t.form.email?o("p",[o("v-icon",{attrs:{size:"15"}},[t._v(t._s(t.mdiEmail))]),t._v("\n\n              "+t._s(t.form.email)+"\n            ")],1):t._e()])]),t._v(" "),o("div",{staticClass:"form-summary__spacer"}),t._v(" "),o("div",{staticClass:"form-summary__wrapper"},[o("div",{staticClass:"form-summary__wrapper-main"},[o("div",{staticClass:"form-summary__title"},[t._v("\n              "+t._s(t.$t("service_bookappt_summary_datetime_title"))+"\n            ")]),t._v(" "),o("div",{staticClass:"form-summary__value"},[o("strong",[t._v(t._s(t.selectedDateSummary))])])]),t._v(" "),o("div",{staticClass:"form-summary__wrapper-action"},[t.calendarLink?o("a",{staticClass:"form-summary__action",attrs:{href:t.calendarLink}},[o("v-icon",{attrs:{size:"20"}},[t._v(t._s(t.mdiCalendarBlank))]),t._v("\n              "+t._s(t.$t("thank_you_calender_long"))+"\n            ")],1):t._e()])]),t._v(" "),o("div",{staticClass:"form-summary__wrapper"},[o("div",{staticClass:"form-summary__wrapper-main"},[o("div",{staticClass:"form-summary__title"},[t._v("\n              "+t._s(t.$t("service_bookappt_summary_location_title"))+"\n            ")]),t._v(" "),o("div",{staticClass:"form-summary__value"},[o("strong",[t._v(t._s(t.form.location.title))]),t._v(" "),o("address",{domProps:{innerHTML:t._s(t.form.location.address)}})])]),t._v(" "),o("div",{staticClass:"form-summary__wrapper-action"},[o("a",{staticClass:"form-summary__action",attrs:{href:t.form.location.googleMapURL}},[o("v-icon",{attrs:{size:"20"}},[t._v(t._s(t.mdiDirections))]),t._v("\n              "+t._s(t.$t("thank_you_direction_long"))+"\n            ")],1)])]),t._v(" "),o("div",{staticClass:"form-summary__title"},[t._v("\n          "+t._s(t.$t("service_bookappt_summary_car_details_title"))+"\n        ")]),t._v(" "),o("div",{staticClass:"form-summary__value"},[o("strong",{staticClass:"form-summary__value--brandModel"},[t._v(t._s(t.form.year)+" "+t._s(t.form.brand+" "+t.form.model))]),t._v(" "),o("span",{staticClass:"form-summary__value--plate"},[t._v(t._s(t.form.plateNo))])]),t._v(" "),o("div",{staticClass:"form-summary__title"},[t._v("\n          "+t._s(t.$t("service_bookappt_summary_remarks_title"))+"\n        ")]),t._v(" "),o("div",{staticClass:"form-summary__value"},[t._v("\n          "+t._s(t.form.remark)+"\n        ")])])]):"Failed"===t.result?o("section",{staticClass:"booking-result--duplicated result-alert"},[o("v-icon",{staticClass:"result-alert__icon"},[t._v(t._s(t.mdiAlertCircle))]),t._v(" "),o("div",{staticClass:"result-alert__title"},[t._v("\n        "+t._s(t.$t("service_bookappt_duplicate_title"))+"\n      ")]),t._v(" "),o("div",{staticClass:"result-alert__desc"},[t._v("\n        "+t._s(t.$t("service_bookappt_duplicate_desc"))+"\n      ")])],1):t._e(),t._v(" "),o("a",{staticClass:"booking-result__backToHome",attrs:{href:t.localePath("/car-service")},on:{click:function(e){return t.$amp.track("Back to Home Button Clicked",{service_car_appointment_id:t.appointmentId})}}},[t._v("\n      "+t._s(t.$t("service_bookappt_back_to_home_btn"))+"\n    ")])])])}),[],!1,null,null,null);e.default=component.exports;k()(component,{VAutocomplete:h.a,VDatePicker:C.a,VDialog:y.a,VIcon:$.a,VMenu:S.a,VTextField:x.a,VTextarea:D.a})},952:function(t,e,r){"use strict";r.d(e,"h",(function(){return o})),r.d(e,"a",(function(){return n})),r.d(e,"e",(function(){return c})),r.d(e,"f",(function(){return l})),r.d(e,"b",(function(){return m})),r.d(e,"c",(function(){return _})),r.d(e,"g",(function(){return d})),r.d(e,"d",(function(){return f}));r(0),r(21);var o=function(t,data,e){return t.$post("/ancillaryform/v1/pre-approval-application",data,{proxy:!1,headers:{"recaptch-token":e}})},n=function(t,e){var r=e.carNo;return t.$get("/v2/car/metadata/".concat(r))},c=function(t){return t.$get("/serviceCenter/list")},l=function(t,data){return t.$get("/serviceCenter/timeslot/".concat(data))},m=function(t,data){return t.$post("/serviceCenter/reservation",data)},_=function(t,data){return t.$post("/v2/car/lib",data)},d=function(t,e){var r=e.carId;return t.$get("/v2/car/voucher/".concat(r))},f=function(t,data){return t.$get("/serviceCenter/invalidDay/".concat(data))}}}]);